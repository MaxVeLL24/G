История обновлений скрипта CommentIt:
!!! Распределение цифр версий: "Технология.Функционал.Исправления и наработки" !!!

***Версия 5.2.5***

Исправлено:
- Баг в админке, когда используется несколько IP
- Баг когда сообщение "Нет комментариев" не исчезало
- Баг в адмике, когда пробельные ники могли вызывать ошибку при поиске
- Обновилась лонгиза в связи с этим не работала авторизация с Вконтакт


###################################


***Версия 5.2.4***

Исправлено:
- Ещё сильнее подкручен рейтинг
- Иногда проявлялся баг в админке при ответе на комментарий
- LITE: Баг с листингом
- LITE: Баг в админке с листингом


###################################

***Версия 5.2.3***

Исправлено:
- При отправки комментариев из VK не учитывалось существование ника
- При авторизации через соц.сети не было возможности повторно оставить комментарий без ошибки
- Функции пингации поисковых систем
- При удалении из настроек корректировки времени, дата отображалась неверно

###################################

***Версия 5.2.2***

Исправлено:
- Ошибки в рейтинг
- Если в урле был пробел, то невозможно было оставить ответ из админки
- Исправлена RSS лента
- В неверной кодировки подсвечивалась иконка "Вконтакт"
- При ответе на комментарий с цитатой из с ником из соц.сети, в ответ попадали HTML-код
- Иногда кнопка "Выход" не работала для соц.сетей


###################################

***Версия 5.2.1***

Исправлено:
- Ошибки в безопасности


###################################

***Версия 5.2.0***

Добавлено:
- Новое оптимизированное ядро
- Возможность добавлять комментарии одновременно и через сервисы и без них
- Кнопка выхода из авторизации сервисов

Исправлено:
- Не правильно обрезались слова при UTF-8
- Не большие правки дизайн в админке
- Название RSS ленты

###################################

***Версия 5.1.5***

Добавлено:
- Авторизация через Last.FM и facebook

Исправлено:
- В мини-редакторе, при наведение мышки на меню смайлов, отображалась не верная подсказка
- Авторизация через сервисы


###################################

***Версия 5.1.4***

Добавлено:
- Пользователю теперь не нужно авторизироваться через лонгизу каждый раз перед добавлением комментариев
- Изменился режим подключение авторизации, все инструкции в файле readme.html (Раздел "Вопросы и ответы")
- Теперь можно более одной почты администратора, куда будут отправляться уведомления

Исправлено:
- Не корректно работали ответы от администратора в админке при использовании русских букв
- Неверная обработка смайлов при некоторых условиях


###################################

***Версия 5.1.3***

Добавлено:
- Ускорение работы скрипта, путём оптимизации БД (MySQL версия) и запросов в БД (MySQL и lite версии)
- Новый постраничный вывод теперь и в админке

Исправлено:
- Не корректно работал ответ с цитатой, если форму поставить выше комментариев
- В некоторых случаях разъезжалось дерево комментариев в админке
- Некоторые надписи были только на русском
- Ответ на комментарии не выключался, если выключен главный редактор

###################################

***Версия 5.1.2***

Добавлено:
- Дополнительная защита от ботов

Исправлено:
- Знак "$" в пароле вызывал ошибку

###################################

***Версия 5.1.1***

Исправлено:
- Не правильная обработка спец. символов, таких как «»“” и других, в win1251 кодировке
- Не работала обратная сортировка
- Не правильно обрабатывались стоп-слова
- Пропускались пустые стоп-слова

###################################

***Версия 5.1.0***

Добавлено:
- Если на хостинге нет модуля json, то скрипт будет использовать свой, чтобы не вызывать ошибок
- Обновлённый дизайн админки
- Дополнительная инструкция для шаблонов на базе Smarty
- Функция отключения комментариев на не нужных страницах
- Функция отключения формы добавления комментариев. Режим чтения
- Можно указывать стоп-слова, при которых комментарии не будут отправляеться
- Убраные кнопки "Удалить все с ник+IP" и "Удалить все с ником", если комментарий от администратора
- Смайлики убраны в основную панель редактора

Исправлено:
- (Lite версия) Неверное отображение подкомментариев в админке 
- (Lite версия) Неверный подсчёт комментариев в админке
- В RSS ленте не вырезались BB-коды
- Отображение ников и аватаров у сервисов авторизации Логинза
- Мелкие доработки панели редактора

###################################

***Версия 5.0.2***

Добавлено:
- Новая постраничная навигация
- При цитировании  автоматически подставляется имя

Исправлено:
- Мелкие недочёты в админке и в js скриптах


###################################

***Версия 5.0.1***

Добавлено:
- Якоря на комментарии, для перехода с last.php
- Защита от злоупотребления переносами строк
- Если вконтакте не указан ник, то подставляется Имя и Фамилия
- Ограничение на размер картинок

Исправлено:
- Не верно обрабатывалась функция ограничения по количеству вывода слов
- Пароль администратора отображался в имени при редактировании комментария в админке


###################################

***Версия 5.0.0***

Добавлено:
- Настройка конфигураций перенесено в админку
- Теперь настройки, как и скины, мультиязыковые 
- При редактировании или ответе на комментарий появилась кнопка отмена действия
- Защита от случайного удаления комментариев
- Закрыта от просмотра папка со скинами
- Рейтинг комментариев
- Переработана панель администирования и подогнана под минимальное расширение экрана в 1024 пикселя по ширине
- Пользователи могу отставлять ссылки на профильные сайты 
- Сортировка по рейтингу (как в сервисе Ответы@Mail.ru)
- Единое обновление от версии 3.х-4.х до 5-й версии, без потери комментариев
- Возможность авторизации на сайте, через популярные сервисы (соц.сети, поисковые машины, openid и т.п.)
- При смене пароля администратора, не нужно править базу, чтобы сообщения от администратора выделялись
- Указанная почта пользователей видна только в панели администрирования
- Теперь при обновлении версий не нужно будет настраивать SQL заново :-)

Исправлено:
- Не стабильная работа на PHP 4.x
- Не корректно обрезались имена пользователей
- Появлялась ошибка если название таблицы было со спец.символами
- При редактировании и при ответе на комментарий из админки, он не подсвечивался в дереве комментариев
- Мелкие исправления и оптимизация Lite версии

###################################

***Версия 4.6.3***

Добавлено:
- В окно вставки ссылки/картинки сразу прописан "http://"
- Возможность отправлять внешние ссылки через редирект
- Функция по ограничению на парсинга ссылок и картинок только с сайта, где установлен скрипт

Исправлено:
- Мелкие недочёт в языковых файлах
- Мини-загрузка не отображалась рядом с кнопкой Добавить
- Не правильный парсинг ссылок в некоторых ситуациях

###################################

***Версия 4.6.2***

Добавлено:
- Оповещение пользователя, что его комментарий будет первым
- Новая стандартная иконка для rss-ленты
- Отображение количества комментарие в админке на каждый адрес и общее количество
- Теперь почта приходит от robocommentit@HOST, где HOST - домен сайта, на котором установлен скрипт
- Для валидации кода теперь используется <!--noindex--> вместо старого <noindex>
- Цитаты теперь обраблены <!--noindex-->, чтобы не создавать дубли информации

Исправлено:
- Если каптча не нужна, то проверка на библиотеку GD2 не производится
- Более корректная проверка на существования SQLite на сервере для Lite версии
- В админке не удалялись комментарии с русскими именами
- В админке при редактировании добавлялся лишний <br />
- Мелкий недочёт при удалении html тэгов
- Мелкие недочёт в языковых файлах

###################################

***Версия 4.6.1***

Исправлено:
- При выключенных цитатах, сообщение [Ответить с цитатой] не скрывалось
- Обработка кавычек «» в кодировке utf8
- Подправлена обработка функции антимата
- Корректный перенос строк не задевающий HTML код

###################################

***Версия 4.6.0***

Добавлено:
- Возможность автоматической простановки аватарок комментаторам
- 2 пакета аватарок (вне основного архива)
- Ответ с цитатой
- Новое оформление цитат
- Новый вид каптчи. Не видимый для пользователей
- У пользователей, которых установлен IE6, скрипт отображаться не будет, а вместо него покажется предложение об обновлении браузера
- Обновлённая панель администрирования
- Все элементы приведены к стандарту XHTML
- Все картинки лежат теперь в папке im
- Обновлены стандартные шаблоны

Исправлено:
- При цитатах проставлялся лишний тэг
- В Lite версии не одобрялись комментарии при модерации
- В Lite версии не работал ответ на комментарии из панели администрирования
- Украинский язык в UTF-8 был с ошибкой
- Не учитывалась кодировка сайта при уведомление администратора по почте
- Размер шрифта в мини-редаторе не работал в Internet Explorer
- Обработка кавычек в админке
- Панель мини-редактора не отображалась при ответе на комментарий из панели администрирования
- Недочёты в работе JavaScript при работе в панели администрирования 
- Везде проставлены <?php вместо коротких <?
- Снят параноидальный режим безопасности при обработки комментариев


###################################

***Версия 4.5.4***

Исправлено:
- Исправлена JS ошибка при выключенном мини-редакторе
- Не обрезались без пробельные строки при выводе последних комментариев

###################################

***Версия 4.5.3***

Исправлено:
- [COLOR] обрабатывался только один цвет
- Не отображались ссылки без анкора
- Не исчезала меню выбора цвета после клика на цвет


###################################
***Версия 4.5.2***

Добавлено:
- Расширены возможности мини-редактора

Исправлено:
- Обработка BB кодов в выводе последних комментариев
- Не значительные корректировки кода


###################################

***Версия 4.5.1***

Добавлено:
- Версия на файловой базе данных (SQLite)

###################################

***Версия 4.5.0***

Добавлено:
- Мини-редактор
- Парсинг картинок

Исправлено:
- Оптимизация кода


###################################

***Версия 4.4.4***

Добавлено:
- Уведомление по почте пользователя, если на его комментарий ответили
- Автоматическое увеличение области ввода комментария по вертикали

Исправлено:
- Фильтрация имени в админке
- Не значительные корректировки кода

###################################


***Версия 4.4.3***

Добавлено:
- Добавлен азербайджанский язык
- Обработка русских месяцев при использовании date(F) (пока поддерживается только русский)

Исправлено:
- Выводилось сообщение о модерации, если комментарий был от администратора
- На некоторых сайтах не выводились сообщения после добавления

###################################

***Версия 4.4.2***

Исправлено:
- Изменён скин отображения комментариев т.к. там оставалась русская буква "в"
- Не скрывался текст "Ваша почта", если почта отключена
- Иногда появлялись пустые страницы без комментариев

###################################

***Версия 4.4.1***

Добавлено:
- Отправка комментариев по нажатию сочетаний клавиш Ctrl+Enter

Исправлено:
- Не удалялись подкомментарии из базы. (при любом удалении из админки комментария скрипт сам почистит "мусор" из базы)

###################################

***Версия 4.4.0***

Добавлено:
- Многоязыковая поддержка. Стандартно в архив включены языки: русский, английский, украинский, белорусский
- Теперь можно указать скрывать ли форму после добавления комментария или нет
- Дополнительное отображение загрузки рядом с кнопкой "Добавить"
- После добавления комментария, автоматический переход на него

Исправлено:
- Оптимизирован код и удалено много "мёртвого" кода.
- Теперь форма отправки комментария не очищается, если капчта введена не правильно.
- Подправлен подсчёт комментариев
- RSS лента не корректно работала на все комментарии

###################################

***Версия 4.3.4***

Добавлено:
- Комментарии администратора добавляются без модерации
- Поддержка хостингов без PHP расширение mb_

Исправлено:
- При включенной модерации не сообщалось об отправке сообщения на модерацию

###################################

***Версия 4.3.3***

Добавлено:
- При написании комментариев администратору не нужно вводится капчу
- Автоматическое вырезание сессий из урла RSS ленты
- Идентификатор версии скрипта в файл comment.php

Исправлено:
- Переделан скрипт обработки RSS ленты
- Подправлена инструкция по установке, почему то IE8 не любит "<?"

###################################

***Версия 4.3.2***

Исправлено:
- Подправлена RSS лента
- Исправлена админка под UTF-8
- Пароль от администратора больше не отображается в админке
- В шаблоне "replay.html" фраза "Сбросить ответ" изменена на "Отменить ответ"


###################################

***Версия 4.3.1***

Исправлено:
- Ответы от администратора не сдвигались на должном уровне
- Подправлена RSS лента под новый стандарт 
- Парсинг смайлов не выключался

Добавлено:
- Парсинг смайлов в админке
- Панель смайлов добавлена в админку
- Обрамление комментариев в админке


###################################
***Версия 4.3***

Исправлено:
- Оптимизирован код php и js

Добавлено:
- Многоуровневые комментарии

###################################

***Версия 4.2.1***

Исправлено:
- Была возможность ввести пустые имена и комментарии
- Корректировка времени не учитывалась в "админке"
- Корректировка времени не учитывалась в RSS


###################################
***Версия 4.2***

Исправлено:
- Переработан JS код (уменьшен в размере)
- Подправлены некоторые недочёты в интерфейсе "админке"
- Переносы новых строк в "админке"

Добавлено:
- Принудительный выбор кодировки для таблицы в БД при установке скрипта
- Отдельный скин для каптчи
- Редактирование почты и IP адреса в "админке"



###################################
***Версия 4.1***

Исправлено:
- Проблема со спец.символами при вставки текста из текстовых редакторов
- Проблема с редактированием комментариев через админку в UTF-8
- Подправлен файл с руководством readme.html
- Обрезание урла до символа "&" в админке при ответе на комментарий

Добавлено:
- Привязка комментариев к определённой переменной или "статичному" URL
- Отображение почты пользователя в письме для администратора о появлении новых комментариев
- Обработка magic_quotes_gpc и одинарных бэкслэшев



###################################
***Версия 4.0***

Исправлено:
- Проблема с обрезанием комментариев
- Проблема с передачей символа &

Добавлено:
- Ответ от администратора из "админки"
- Замена обрезания по "количеству символов" на "количество слов" в функции вывода последних комментариев
- Возможность добавлять произвольные символы в конец комментариев в функции вывода последних комментариев
- Корректировка времени 
- HTML-код в комментариях больше не поддерживается
- При включенном листинге, после добавления нового комментария, автоматически идёт переходу на нужную страницу с оставленным комментарием
- Более точная проверка на поддержку модуля iconv на хостинге
- Новый класс для работы с почтой
- Новый формат файла readme
- Ведение истории исправлений
